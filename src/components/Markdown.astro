---
import { marked } from 'marked';

interface Props {
  content: string;
}

const { content } = Astro.props;
let html = marked.parse(content, { async: false }) as string;
// add loading="lazy" to img tags (marked does not set it)
html = html.replace(/<img /g, '<img loading="lazy" ');
---

<div class="markdown-content" set:html={html} />

<style>
  .markdown-content :global(img) {
    background-color: #ddd;
    height: auto;
    margin: 1rem 0;
    max-width: 100%;
    vertical-align: bottom;
  }
</style>
